---
title: 将“昂贵”的时间复杂度转换成“廉价”的空间复杂度
date: 2021-03-19 19:41:00
permalink: /pages/3c6aef09d93e5/
categories:
  - 《数据结构与算法》笔记
tags:
  -
---

::: note
代码效率优化就是要将可行解提高到更优解，最终目标是：**要采用尽可能低的时间复杂度和空间复杂度，去完成一段代码的开发**。
:::

## 时间昂贵、空间廉价

代码效率的瓶颈可能发生在时间或者空间两个方面。如果是缺少计算空间，花钱买服务器就可以了。这是个花钱就能解决的问题。相反，如果是缺少计算时间，只能投入宝贵的人生去跑程序。即使你有再多的钱、再多的服务器，也是毫无用处。相比于空间复杂度，时间复杂度的降低就显得更加重要了。

结论：**空间是廉价的，而时间是昂贵的**。

降低空间复杂度的核心思路就是：**能用低复杂度的数据结构能解决问题，就千万不要用高复杂度的数据结构**。

## 程序开发中复杂度降低的核心方法论

1. **暴力解法**：在没有任何时间、空间约束下，完成代码任务的开发
   > 先解决问题
2. **无效操作处理**：将代码中的无效计算、无效存储剔除，降低时间或空间复杂度
   > 学会并掌握**递归**、**二分法**、**排序算法**、**动态规划**等常用的算法思维
3. **时空转换**：设计合理数据结构，完成时间复杂度向空间复杂度的转移
   > 对数据的操作进行细分，全面**掌握常见数据结构的基础知识**

## 示例

1. **假设有任意多张面额为 2 元、3 元、7 元的货币，现要用它们凑出 100 元，求总共有多少种可能性**

::: details 暴力解法

代码共执行`n + n² + n³`次，则`f(n) = n³`。时间复杂度为`O(n³)`

<<< @/examples/数据结构与算法/02.demo.js#example1
:::

::: details 代码优化

代码共执行`n + n²`次，则`f(n) = n²`。时间复杂度为`O(n²)`

<<< @/examples/数据结构与算法/02.demo.js#example1-better
:::

2. **查找出一个数组中，出现次数最多的那个元素的数值**

::: details 暴力解法

代码共执行`n + n²`次，则`f(n) = n²`。时间复杂度为`O(n²)`


<<< @/examples/数据结构与算法/02.demo.js#example2
:::

::: details 代码优化

通过采用更复杂、高效的数据结构，完成了时空转移，提高了空间复杂度`O(n)`，降低了时间复杂度`O(n)`

<<< @/examples/数据结构与算法/02.demo.js#example2-better
:::

## 练习

**`示例 1` 中是否存在更优的解法？如果有，请写出来**

::: details 答案解析

第 4 行代码，j 需要遍历到 33。但很显然，随着 i 的变大，j 并不需要遍历到 33。例如，当 i 为 9 的时候，j 最大也只能取到 12。如果 j 大于 12，则 `7 * 9 + 3 * 13 > 100`。**虽然减少了循环次数，但是时间复杂度并没有降低，因为 j 的取值范围也是与 n 线性相关的**

<<< @/examples/数据结构与算法/02.demo.js#answer{4}
:::