---
title: 如何衡量程序运行的效率？
date: 2021-03-17 09:43:39
permalink: /pages/f592a69f07787/
categories:
  - 学习笔记
  - 《数据结构与算法》笔记
tags:
  - 笔记
  - 算法
---



## 复杂度是什么

**复杂度是衡量代码运行效率的重要度量因素。**

对于同一个计算任务，不同的计算方法得到结果的过程复杂度是不一样的。根据资源消耗情况，我们可以从两个维度衡量复杂度。

::: note 1. 首先，这段代码消耗的资源是什么。
一般而言，代码执行过程中会消耗 **计算时间** 和 **计算空间**，那么需要衡量的就是`时间复杂度`和`空间复杂度`。
:::

::: note 2. 其次，这段代码对于资源的消耗是多少。
我们通常不会关注这段代码对于资源消耗的绝对量，因为不管是时间还是空间，它们的消耗程度都和输入的数据量高度相关。为了更客观地衡量复杂度，我们通常会**关注时间或者空间消耗量与输入数据量之间的关系**。
:::

复杂度是一个关于输入数据量`n`的函数。假设你的代码复杂度是`f(n)`，那么就用个大写字母`O`把`f(n)`括起来就可以，即`O(f(n))`。

通常，复杂度的计算方法遵循以下几个原则：

::: note 复杂度与具体的常系数无关
例如`O(n)`和`O(2n)`表示的是同样的复杂度。即 **O(2n) = O(n + n) = O(n) + O(n)**\
**一段`O(n)`复杂度的代码只是先后执行两遍`O(n)`，其复杂度是一致的。**
:::

::: note 多项式级的复杂度相加的时候，选择高者作为结果
例如`O(n²) + O(n)`和`O(n²)`表示的是同样的复杂度。即 **O(n²) = O(n²) + O(n) = O(n² + n)**\
**只需要通过更大变化率的二阶多项式来表征复杂度就可以了**
:::

::: warning
`O(1)`也是表示一个特殊复杂度。\
表示无论输入数据量`n`多大，这里复杂度都不会发生改变。
:::

## 时间复杂度

::: note
**时间复杂度就是程序计算次数**
:::

常见的时间复杂度衡量级别有：
- **常数阶`O(1)`**

无论代码执行了多少行，只要是没有循环等复杂结构，那这个代码的时间复杂度就都是`O(1)`。

``` js
let i = 1;
let j = 2;
++i;
j++;
let m = i + j;
```

- 对数阶`O(logN)`

二分查找，或者更通用地说是采用分而治之的二分策略，时间复杂度都是`O(logN)`

``` js
let i = 1;
while (i < n) {
  i = i * 2;
}
```

- 线性阶`O(n)`

一个简单的 for 循环，时间复杂度是`O(n)`

``` js
for(let i = 1; i < n; i++) {
  j++;
}
```

- 线性对数阶`O(nlogN)`

将时间复杂度为`O(logN)`的代码循环`n`遍的话，那么它的时间复杂度就是`n * O(logN)`，也就是`O(nlogN)`

``` js
for(let i = 1; i < n; i++) {
  while(i < n) {
    i = i * 2;
  }
}
```

- 平方阶`O(n²)`
- 立方阶`O(n³)`
- K次方阶`O(n^k)`
- 指数阶`(2^n)`

## 空间复杂度

::: note
**空间复杂度是程序占用的空间**
:::

常见的空间复杂度衡量级别有：

- 常数阶`O(1)`

如果算法执行所需要的临时空间不随着某个变量`n`的大小而变化，即此算法空间复杂度为一个常量，可表示为 O(1)

``` js
for(let i = 1; i < n; i++) {
  j++;
}
```

- 对数阶`O(logN)`
- 线性阶`O(n)`
- 线性对数阶`O(nlogN)`
- 平方阶`O(n²)`
- 立方阶`O(n³)`
- K次方阶`O(n^k)`
- 指数阶`(2^n)`